<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
  <title>TirAssist โ ะะฐัะบะพะฒะบะธ</title>
  <script src="https://telegram.org/js/telegram-web-app.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.css">
  <link rel="stylesheet" href="https://unpkg.com/leaflet.markercluster@1.5.3/dist/MarkerCluster.Default.css">
  <link rel="stylesheet" href="style.css">
</head>
<body>

  <div id="map"></div>

  <!-- Top Bar -->
  <div id="top-bar">
    <div id="search-wrapper">
      <span class="search-icon">๐</span>
      <input type="text" id="search-input" placeholder="ะะพัะพะด ะธะปะธ ะฐะดัะตั..." autocomplete="off">
      <button id="search-clear" class="hidden">โ</button>
    </div>
    <div id="top-actions">
      <button id="layer-btn" class="action-btn" title="ะกะฟััะฝะธะบ">๐ฐ๏ธ</button>
      <button id="route-btn" class="action-btn" title="ะะฐััััั">๐บ๏ธ</button>
      <button id="filter-btn" class="action-btn" title="ะคะธะปัััั">โ๏ธ</button>
      <button id="locate-btn" class="action-btn" title="ะะพั ะผะตััะพะฟะพะปะพะถะตะฝะธะต">๐</button>
    </div>
  </div>

  <!-- Search Results -->
  <div id="search-results"></div>

  <!-- Filter Panel -->
  <div id="filter-panel" class="floating-panel hidden">
    <div class="panel-title">ะคะธะปัััั</div>
    <div class="filter-chips">
      <button class="chip" data-filter="free">๐ ะะตัะฟะปะฐัะฝะพ</button>
      <button class="chip" data-filter="shower">๐ฟ ะัั</button>
      <button class="chip" data-filter="toilet">๐ฝ ะขัะฐะปะตั</button>
      <button class="chip" data-filter="security">๐ ะััะฐะฝะฐ</button>
      <button class="chip" data-filter="restaurant">โ ะะตััะพัะฐะฝ</button>
      <button class="chip" data-filter="electricity">โก ะญะปะตะบััะธัะตััะฒะพ</button>
    </div>
    <button id="filter-clear" class="secondary-btn">ะกะฑัะพัะธัั ะฒัะต</button>
  </div>

  <!-- Route Panel -->
  <div id="route-panel" class="floating-panel hidden">
    <div class="panel-title">ะะฐััััั</div>
    <div class="route-inputs">
      <div class="route-input-row">
        <span class="route-dot green"></span>
        <input type="text" id="route-from" placeholder="ะัะบัะดะฐ" autocomplete="off">
      </div>
      <div class="route-divider"></div>
      <div class="route-input-row">
        <span class="route-dot red"></span>
        <input type="text" id="route-to" placeholder="ะัะดะฐ" autocomplete="off">
      </div>
    </div>
    <button id="route-go-btn" class="primary-btn">ะะฐะนัะธ ะฟะฐัะบะพะฒะบะธ ะฝะฐ ะผะฐัััััะต</button>
    <button id="route-clear-btn" class="secondary-btn hidden">ะัะธััะธัั ะผะฐััััั</button>
  </div>

  <!-- Bottom Sheet -->
  <div id="bottom-sheet" class="hidden">
    <div id="sheet-drag-handle" onclick="app.hidePanel()">
      <div id="sheet-handle"></div>
    </div>
    <div id="sheet-content">
      <div id="sheet-header">
        <h2 id="parking-name"></h2>
        <span id="parking-distance" class="distance-badge hidden"></span>
      </div>
      <p id="parking-address"></p>
      <div id="parking-meta">
        <span id="parking-spots"></span>
        <span id="parking-rating"></span>
      </div>
      <div id="services-row"></div>
      <button id="maps-btn" class="primary-btn maps-btn">
        ๐บ๏ธ ะัะบัััั ะฒ Google Maps
      </button>
    </div>
  </div>

  <!-- JS Libraries -->
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
  <script src="https://unpkg.com/leaflet.markercluster@1.5.3/dist/leaflet.markercluster.js"></script>
  <script src="https://unpkg.com/@tmcw/togeojson@5.8.1/dist/togeojson.umd.js"></script>
  <script src="app.js"></script>
</body>
</html>
